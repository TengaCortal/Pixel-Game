<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>SuperPixelGame</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  
  <!-- Template Main CSS File -->
  <link href="/assets/css/main.css" rel="stylesheet">


</head>

<body>

    <!-- ======= Header ======= -->
    <header id="header" class="header fixed-top d-flex align-items-center">
        <div class="container d-flex align-items-center justify-content-between">
            <a href="/index.html" class="logo d-flex align-items-center me-auto me-lg-0">
                <!-- Uncomment the line below if you also wish to use an image logo -->
                <h1>SuperPixelGame</h1>
            </a>
        </div>

        <script src="/assets/js/jquery.min.js"></script>
    </header><!-- End Header -->


    <main id="main">
    <!-- ======= Breadcrumbs ======= -->
    <div class="breadcrumbs">
        <div class="container">

        <div class="d-flex justify-content-between align-items-center">
            <h2> Create a canva </h2>
        </div>

        </div>
    </div><!-- End Breadcrumbs -->


        <!-- ======= Sign up Section ======= -->
    <section id="create" class="create">
        <div class="container" >
            <form action="/canva/create" method="post" role="form" class="php-email-form p-3 ">
                <div class="form-group">
                    <input type="text" name="nom" class="form-control" id="nom" placeholder="Name" required>
                </div>

                <div class="form-group">
                    <input type="text" class="form-control" name="theme" id="theme" placeholder="Theme" required disabled>
                </div>

                <div class="form-group">
                    <input type="number" class="form-control" name="width" id="width" placeholder="Width" required disabled>
                </div>

                <div class="form-group">
                    <input type="number" class="form-control" name="height" id="height" placeholder="Height" required disabled>
                </div>
            
                <div class="text-center"><button type="submit" id="button">Validate</button></div>
            </form>
        <!--End Contact Form -->
        </div>
    </section><!-- End Sign up Section -->

    </main><!-- End #main -->

    <!-- ======= Footer ======= -->
    <footer id="footer" class="footer">

    </footer><!-- End Footer -->

    <a href="#" class="scroll-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

    <div id="preloader"></div>

    <!-- Vendor JS Files -->
    <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Template Main JS File -->
    <script src="assets/js/main.js"></script>
</body>

<foot>
  <script>
    $("#nom").keyup(function(){
      let data = {nom: $("#nom").val()}
      $.post("/canva/create/available", data, function(received, status, xhr){
        if (status=="error"){
          alert(error)
        }
        else {
          if (received === "KO"){
            $("#theme").prop("disabled", true)
            $("#button").prop("disabled", true)
            $("#nameUse").remove()
            $("#nom").after('<div id="nameUse"> Name already used </div>')
          } else{
            $("#theme").prop("disabled", false)
            $("#button").prop("disabled", false)
            $("#nameUse").remove()
          }
        }
      })
    })
  </script>
</foot>

</html>